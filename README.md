# Проект: Моделирование изменения балансов студентов

Что нужно было сделать: 

1. Смоделировать изменение балансов студентов, где баланс — это количество уроков, которое есть у каждого студента
2. Создать таблицу, где будут балансы каждого студента за каждый календарный день
3. Составить запрос, который собирает данные о балансах студентов за каждый прожитый ими день

Как решала: 

Задание решалось в три этапа. Сначала, с помощью sql запросов, были собраны три таблицы (дата первой успешной транзакции для каждого студента, все дни 2016 года, таблица со списком успешных транзакций). После этого создала CTE, в котором хранились все запросы. 

Такие как: 
- все даты жизни студента после того, как произошла его первая транзакция; количество пройденных уроков за каждый день для каждого ученика; 
- баланс студентов, который сформирован только транзакциями(здесь я использовал оконные функции для подсчета кумулятивной суммы кол-ва уроков на балансе); 
- таблица хранения кумулятивной суммы количества пройденных уроков; таблица с вычисленными балансами каждого студента(объединил два прошлых запроса с подсчетом суммы). 

В итоге получила таблицу, где отслеживается баланс каждого студента за каждый день. Помимо этого построила визуализацию.

Код sql запроса находится в файле "sql-запрос"

> <a href="https://docs.google.com/spreadsheets/d/1QzAQwFeuVdxwSPwIzK2o1VPz-lYDMpgo/edit?usp=sharing&ouid=112922628303316243157&rtpof=true&sd=true"> Excel-таблица с данными и визуализацией по балансу учеников</a> 

Выводы:

1. Количество купленных уроков возрастает с середины года и увеличивается к концу года
2. Количество списанных с баланса уроков стабильно в течение года и возрастает к концу года
3. Количество пройденных и неоплаченных уроков постоянно увеличивается и к концу года достигает 6000 уроков (что при средней цене в 800 рублей за 1 урок, получается более 4800000 рублей)
4. Сумма за пройденные уроки снижается, потому что она списывается с баланса учеников, сумма за пополнения с транзакций растет, количество средств, которые мы можем потратить на уроки увеличивается
5. Разница между суммой за уроки и суммой с транзакций равномерно увеличивается в пользу суммы с транзакций

В результате анализа полученных данных мы можем сказать, что компания развивается, т.к. количество учеников, транзакций, купленных уроков, пройденных уроков постепенно растет, в результате чего увеличивается прибыль
